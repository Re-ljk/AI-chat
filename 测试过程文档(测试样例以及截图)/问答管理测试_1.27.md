# 问答管理接口测试文档

## 测试环境
- 服务器地址: http://localhost:19088
- 数据库: 线上开发环境PG库 (47.108.29.156:25432)

---

## 测试1: 创建问题接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `POST`
3. 设置请求URL: `http://localhost:19088/api/v1/questions/{session_id}`
   - 将 `{session_id}` 替换为会话ID（需要先创建会话）
4. 设置请求头:
   - `Content-Type: application/json`
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 设置请求体:
   ```json
   {
     "content": "你好，请问有什么可以帮助您的？"
   }
   ```
6. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "你好，请问有什么可以帮助您的？",
    "is_active": true,
    "created_at": "2026-01-27T12:00:00.000000+00:00",
    "updated_at": null
  }
}
```

---

## 测试2: 获取会话的问题列表接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `GET`
3. 设置请求URL: `http://localhost:19088/api/v1/questions/session/{session_id}`
   - 将 `{session_id}` 替换为会话ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": [
    {
      "id": "问题ID",
      "session_id": "会话ID",
      "user_id": "用户ID",
      "content": "你好，请问有什么可以帮助您的？",
      "is_active": true,
      "created_at": "2026-01-27T12:00:00.000000+00:00",
      "updated_at": null
    }
  ]
}
```

---

## 测试3: 获取问题详情接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `GET`
3. 设置请求URL: `http://localhost:19088/api/v1/questions/{question_id}`
   - 将 `{question_id}` 替换为问题ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "你好，请问有什么可以帮助您的？",
    "is_active": true,
    "created_at": "2026-01-27T12:00:00.000000+00:00",
    "updated_at": null
  }
}
```

---

## 测试4: 删除问题接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `DELETE`
3. 设置请求URL: `http://localhost:19088/api/v1/questions/{question_id}`
   - 将 `{question_id}` 替换为问题ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "你好，请问有什么可以帮助您的？",
    "is_active": false,
    "created_at": "2026-01-27T12:00:00.000000+00:00",
    "updated_at": "2026-01-27T12:05:00.000000+00:00"
  }
}
```

---

## 测试5: 创建答案接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `POST`
3. 设置请求URL: `http://localhost:19088/api/v1/answers/{question_id}`
   - 将 `{question_id}` 替换为问题ID
4. 设置请求头:
   - `Content-Type: application/json`
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 设置请求体:
   ```json
   {
     "content": "您好！我是AI助手，很高兴为您服务。"
   }
   ```
6. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "答案ID",
    "question_id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "您好！我是AI助手，很高兴为您服务。",
    "is_active": true,
    "created_at": "2026-01-27T12:01:00.000000+00:00",
    "updated_at": null
  }
}
```

---

## 测试6: 获取问题的答案列表接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `GET`
3. 设置请求URL: `http://localhost:19088/api/v1/answers/question/{question_id}`
   - 将 `{question_id}` 替换为问题ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": [
    {
      "id": "答案ID",
      "question_id": "问题ID",
      "session_id": "会话ID",
      "user_id": "用户ID",
      "content": "您好！我是AI助手，很高兴为您服务。",
      "is_active": true,
      "created_at": "2026-01-27T12:01:00.000000+00:00",
      "updated_at": null
    }
  ]
}
```

---

## 测试7: 获取答案详情接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `GET`
3. 设置请求URL: `http://localhost:19088/api/v1/answers/{answer_id}`
   - 将 `{answer_id}` 替换为答案ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "答案ID",
    "question_id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "您好！我是AI助手，很高兴为您服务。",
    "is_active": true,
    "created_at": "2026-01-27T12:01:00.000000+00:00",
    "updated_at": null
  }
}
```

---

## 测试8: 删除答案接口

### 操作步骤
1. 创建新请求
2. 设置请求方法: `DELETE`
3. 设置请求URL: `http://localhost:19088/api/v1/answers/{answer_id}`
   - 将 `{answer_id}` 替换为答案ID
4. 设置请求头:
   - `Authorization: Bearer {access_token}`
   - 将 `{access_token}` 替换为登录接口获取的token
5. 点击发送请求

### 预期结果
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": "答案ID",
    "question_id": "问题ID",
    "session_id": "会话ID",
    "user_id": "用户ID",
    "content": "您好！我是AI助手，很高兴为您服务。",
    "is_active": false,
    "created_at": "2026-01-27T12:01:00.000000+00:00",
    "updated_at": "2026-01-27T12:06:00.000000+00:00"
  }
}
```
